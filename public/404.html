<!-- public/404.html -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script>
      // ✅ Versión segura: redirige SOLO si NO estamos en la ruta base
      const base = '/proyecto-final-portafolio';
      const { pathname } = window.location;

      // Si ya estamos en la ruta correcta (ej: /proyecto-final-portafolio/admin), dejamos que Vue Router lo maneje
      if (pathname.startsWith(base)) {
        // Servimos index.html y Vue Router tomará el control
        window.history.replaceState(null, null, pathname);
      } else {
        // Redirigimos a la versión con base
        const newPath = base + (pathname === '/' ? '' : pathname);
        window.location.replace(newPath);
      }
    </script>
  </head>
  <body>
    <p>Redirigiendo...</p>
  </body>
</html>